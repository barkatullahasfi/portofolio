<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ERaperda System - Sistem Elektronik Rancangan Peraturan Daerah DPRD Kabupaten Balanga</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --accent-color: #3b82f6;
            --text-dark: #1f2937;
            --text-light: #6b7280;
            --bg-light: #f8fafc;
            --border-color: #e5e7eb;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
        }
        
        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
        }
        
        .hero-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 100px 0;
            position: relative;
            overflow: hidden;
        }
        
        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><polygon fill="rgba(255,255,255,0.05)" points="0,0 1000,300 1000,1000 0,700"/></svg>');
            background-size: cover;
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
        }
        
        .feature-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            height: 100%;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .feature-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .btn-primary-custom {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-primary-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(37, 99, 235, 0.3);
        }
        
        .btn-outline-custom {
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 12px 30px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-outline-custom:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }
        
        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        
        .section-subtitle {
            font-size: 1.2rem;
            color: var(--text-light);
            margin-bottom: 3rem;
        }
        
        .stats-card {
            text-align: center;
            padding: 2rem;
        }
        
        .stats-number {
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary-color);
            display: block;
        }
        
        .stats-label {
            color: var(--text-light);
            font-weight: 500;
        }
        
        .footer {
            background: var(--text-dark);
            color: white;
            padding: 3rem 0 1rem;
        }
        
        .navbar-nav .nav-link {
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .navbar-nav .nav-link:hover {
            color: var(--primary-color) !important;
        }
        
        @media (max-width: 768px) {
            .hero-section {
                padding: 60px 0;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .hero-section h1 {
                font-size: 2.5rem;
            }
        }
        
        /* Raperda Table Styles */
        .table th {
            border-top: none;
            font-weight: 600;
            background-color: #f8f9fa !important;
        }
        
        .table td {
            vertical-align: middle;
        }
        
        .sort-link {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            transition: color 0.2s ease;
        }
        
        .sort-link:hover {
            color: #3b82f6 !important;
        }
        
        .sort-link.text-primary {
            color: #3b82f6 !important;
        }
        
        .table-responsive {
            border-radius: 0.5rem;
        }
        
        .badge {
            font-size: 0.75rem;
            padding: 0.5rem 0.75rem;
        }
        
        /* Loading and Animation */
        .spinner-border {
            width: 2rem;
            height: 2rem;
        }
        
        .table tbody tr {
            transition: background-color 0.2s ease;
        }
        
        .table tbody tr:hover {
            background-color: #f8f9fa;
        }
        
        /* Filter Form */
        .card {
            border: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .form-control:focus,
        .form-select:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 0.2rem rgba(59, 130, 246, 0.25);
        }
        
        /* Pagination */
        .pagination .page-link {
            color: #3b82f6;
            border-color: #dee2e6;
        }
        
        .pagination .page-item.active .page-link {
            background-color: #3b82f6;
            border-color: #3b82f6;
        }
        
        .pagination .page-link:hover {
            color: #1e40af;
            background-color: #f8f9fa;
        }
        
        /* Visitor Counter Styles */
        .visitor-stats {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .stat-item {
            transition: all 0.3s ease;
        }
        
        .stat-item:hover {
            transform: translateX(5px);
        }
        
        .visitor-stats .badge {
            font-size: 0.8rem;
            padding: 0.4rem 0.6rem;
            min-width: 40px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .loading-counter {
            animation: loading 1.5s infinite;
        }
        
        @keyframes loading {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .table-responsive {
                font-size: 0.875rem;
            }
            
            .badge {
                font-size: 0.7rem;
                padding: 0.25rem 0.5rem;
            }
        }
        
        /* Map Styles */
        .map-container {
            cursor: pointer;
        }
        
        .map-container:hover {
            border-color: rgba(255,255,255,0.4) !important;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .map-container:hover .map-overlay {
            opacity: 1 !important;
        }
        
        .map-container:hover iframe {
            filter: grayscale(0%) !important;
        }
        
        /* Visitor Counter Styles */
        .visitor-stats {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05));
            border-radius: 12px;
            padding: 1.25rem;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .visitor-stats:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }
        
        .stat-item {
            transition: all 0.3s ease;
            padding: 0.5rem;
            border-radius: 8px;
            margin-bottom: 0.75rem !important;
        }
        
        .stat-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }
        
        .visitor-stats .badge {
            font-size: 0.85rem;
            padding: 0.5rem 0.75rem;
            min-width: 50px;
            font-weight: 600;
            border-radius: 20px;
            transition: all 0.3s ease;
        }
        
        .visitor-stats .badge:hover {
            transform: scale(1.1);
        }
        
        .loading-counter {
            animation: loading 1.5s infinite;
        }
        
        @keyframes loading {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .visitor-stats {
                padding: 1rem;
                margin-top: 1rem;
            }
            
            .stat-item {
                padding: 0.4rem;
            }
            
            .visitor-stats .badge {
                font-size: 0.8rem;
                padding: 0.4rem 0.6rem;
                min-width: 45px;
            }
        }
        
        @media (max-width: 576px) {
            .visitor-stats {
                padding: 0.75rem;
            }
            
            .visitor-stats .badge {
                font-size: 0.75rem;
                padding: 0.3rem 0.5rem;
                min-width: 40px;
            }
        }
    </style>
    
    </head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="https://eraperda-balangan.site">
                <img src="https://eraperda-balangan.site/images/logo.png" alt="Logo DPRD" width="40" height="40" class="me-2">
                <span class="text-primary">ERaperda System</span>
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="https://eraperda-balangan.site">Beranda</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#daftar-raperda">Daftar Raperda</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://eraperda-balangan.site/panduan">Panduan</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#tentang">Tentang</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#kontak">Kontak</a>
                    </li>
                    <li class="nav-item ms-2">
                        <a class="btn btn-primary-custom text-white" href="https://eraperda-balangan.site/login">
                            <i class="fas fa-sign-in-alt me-1"></i> Masuk
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main style="margin-top: 76px;">
        <!-- Alert Messages -->
                
                
        <!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <div class="hero-content">
                    <h1 class="display-4 fw-bold mb-4">
                        Sistem Elektronik<br>
                        <span class="text-warning">Rancangan Peraturan Daerah</span>
                    </h1>
                    <p class="lead mb-4">
                        Platform digital DPRD Kabupaten Balangan untuk meningkatkan transparansi, partisipasi publik, dan efisiensi dalam proses penyusunan peraturan daerah.
                    </p>
                    <div class="d-flex flex-wrap gap-3">
                        <a href="https://eraperda-balangan.site/login" class="btn btn-warning btn-lg px-4 py-3 fw-semibold">
                            <i class="fas fa-sign-in-alt me-2"></i>Masuk ke Sistem
                        </a>
                        <a href="https://eraperda-balangan.site/panduan" class="btn btn-outline-light btn-lg px-4 py-3 fw-semibold">
                            <i class="fas fa-book me-2"></i>Panduan Penggunaan
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <div class="hero-image mt-5 mt-lg-0">
                    <img src="https://eraperda-balangan.site/images/logo.png" alt="Logo DPRD" class="img-fluid" style="max-width: 300px;">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-md-3 col-6">
                <div class="stats-card">
                    <span class="stats-number">100%</span>
                    <span class="stats-label">Digital</span>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stats-card">
                    <span class="stats-number">24/7</span>
                    <span class="stats-label">Akses</span>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stats-card">
                    <span class="stats-number">Aman</span>
                    <span class="stats-label">Terjamin</span>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stats-card">
                    <span class="stats-number">Transparan</span>
                    <span class="stats-label">Terbuka</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- About Section -->
<section class="py-5" id="tentang">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <h2 class="section-title">Tentang ERaperda System</h2>
                <p class="section-subtitle">
                    Sistem elektronik yang dirancang khusus untuk mendukung proses legislasi yang lebih transparan, efisien, dan partisipatif di DPRD Kabupaten Balangan.
                </p>
            </div>
        </div>
        
        <div class="row">
            <div class="col-lg-6 mb-4">
                <div class="feature-card">
                    <div class="feature-icon">
                       <i class="fa-solid fa-bullseye"></i>
                    </div>
                    <h4 class="mb-3">Tujuan Sistem</h4>
                    <p class="text-muted">
                        Meningkatkan transparansi dan akuntabilitas dalam proses penyusunan peraturan daerah, memfasilitasi partisipasi publik, dan mempercepat proses legislasi melalui digitalisasi.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h4 class="mb-3">Fungsi Utama</h4>
                    <p class="text-muted">
                        Mengelola dokumen rancangan peraturan daerah, memfasilitasi proses review dan komentar, serta menyediakan platform yang memudahkan pemantauan perkembangan/status rancangan peraturan daerah.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Raperda List Section -->
<section class="py-5 bg-light" id="daftar-raperda">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center mb-5">
                <h2 class="section-title">Daftar Rancangan Peraturan Daerah</h2>
                <p class="section-subtitle">
                    Lihat dan pantau perkembangan rancangan peraturan daerah yang sedang dalam proses penyusunan.
                </p>
            </div>
        </div>

        <!-- Filter dan Search -->
        <div class="card mb-4">
            <div class="card-body">
                <form id="filterForm" class="row g-3">
                    <div class="col-md-6">
                        <label for="search" class="form-label">
                            <i class="fas fa-search me-1"></i>Pencarian
                        </label>
                        <input type="text" class="form-control" id="search" name="search" 
                               value="" placeholder="Cari judul atau deskripsi...">
                    </div>
                    <div class="col-md-4">
                        <label for="status_raperda" class="form-label">
                            <i class="fas fa-filter me-1"></i>Status Raperda
                        </label>
                        <select class="form-select" id="status_raperda" name="status_raperda">
                            <option value="">Semua Status</option>
                            <option value="Perencanaan" >Perencanaan</option>
                            <option value="Penyusunan" >Penyusunan</option>
                            <option value="Pembahasan" >Pembahasan</option>
                            <option value="Pengesahan" >Pengesahan</option>
                            <option value="Pengundangan" >Pengundangan</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <label class="form-label">&nbsp;</label>
                        <div class="d-flex gap-2">
                            <button type="button" id="refreshBtn" class="btn btn-outline-primary">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                            <button type="button" id="resetBtn" class="btn btn-outline-secondary">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Loading Indicator -->
        <div id="loadingIndicator" class="text-center py-4" style="display: none;">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="mt-2 text-muted">Memuat data...</p>
        </div>

        <!-- Raperda Table -->
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">
                    <i class="fas fa-file-alt me-2"></i>Daftar Raperda
                </h5>
                <span id="totalCount" class="badge bg-primary">6 item</span>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover mb-0" id="raperdaTable">
                        <thead class="table-light">
                            <tr>
                                <th style="width: 80px;">
                                    <a href="#" class="text-decoration-none text-dark sort-link" data-sort="created_at">
                                        No
                                        <i class="fas fa-sort ms-1"></i>
                                    </a>
                                </th>
                                <th>
                                    <a href="#" class="text-decoration-none text-dark sort-link" data-sort="judul">
                                        Nama Raperda
                                        <i class="fas fa-sort ms-1"></i>
                                    </a>
                                </th>
                                <th style="width: 200px;">
                                    <a href="#" class="text-decoration-none text-dark sort-link" data-sort="status_raperda">
                                        Status Raperda
                                        <i class="fas fa-sort ms-1"></i>
                                    </a>
                                </th>
                            </tr>
                        </thead>
                        <tbody id="raperdaTableBody">
                                                        <tr>
                                <td class="text-center">1</td>
                                <td>
                                    <div class="fw-bold">BADAN USAHA MILIK DESA</div>
                                                                            <small class="text-muted">BADAN USAHA MILIK DESA</small>
                                                                    </td>
                                <td>
                                    <span class="badge bg-warning text-dark ">Pembahasan</span>                                </td>
                            </tr>
                                                        <tr>
                                <td class="text-center">2</td>
                                <td>
                                    <div class="fw-bold">RAPERDA FASILITASI PENYELENGGARAAN PESANTREN</div>
                                                                            <small class="text-muted">RAPERDA FASILITASI PENYELENGGARAAN PESANTREN</small>
                                                                    </td>
                                <td>
                                    <span class="badge bg-warning text-dark ">Pembahasan</span>                                </td>
                            </tr>
                                                        <tr>
                                <td class="text-center">3</td>
                                <td>
                                    <div class="fw-bold">PENGHORMATAN, PELINDUNGAN, DAN PEMENUHAN HAK PENYANDANG DISA...</div>
                                                                            <small class="text-muted">PENGHORMATAN, PELINDUNGAN, DAN PEMENUHAN
HAK PENYANDANG DISABILITAS</small>
                                                                    </td>
                                <td>
                                    <span class="badge bg-warning text-dark ">Pembahasan</span>                                </td>
                            </tr>
                                                        <tr>
                                <td class="text-center">4</td>
                                <td>
                                    <div class="fw-bold">PERUBAHAN KEDUA ATAS PERATURAN DAERAH KABUPATEN BALANGAN  NO...</div>
                                                                            <small class="text-muted">PERUBAHAN KEDUA ATAS PERATURAN DAERAH KABUPATEN BALANGAN 
NOMOR 9 TAHUN 2023 TENTANG 
PAJAK DAERAH...</small>
                                                                    </td>
                                <td>
                                    <span class="badge bg-warning text-dark ">Pembahasan</span>                                </td>
                            </tr>
                                                        <tr>
                                <td class="text-center">5</td>
                                <td>
                                    <div class="fw-bold">PENGEMBANGAN SUMBER DAYA MANUSIA  MELALUI BANTUAN PENDIDIKAN</div>
                                                                            <small class="text-muted">PENGEMBANGAN SUMBER DAYA MANUSIA 
MELALUI BANTUAN PENDIDIKAN</small>
                                                                    </td>
                                <td>
                                    <span class="badge bg-warning text-dark ">Pembahasan</span>                                </td>
                            </tr>
                                                        <tr>
                                <td class="text-center">6</td>
                                <td>
                                    <div class="fw-bold">PENGGABUNGAN DESA WONOREJO DAN SUMBER REJEKI  DI KECAMATAN J...</div>
                                                                            <small class="text-muted">PENGGABUNGAN DESA WONOREJO DAN SUMBER REJEKI 
DI KECAMATAN JUAI</small>
                                                                    </td>
                                <td>
                                    <span class="badge bg-warning text-dark ">Pembahasan</span>                                </td>
                            </tr>
                                                    </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Pagination -->
            <div class="card-footer">
                <div class="d-flex justify-content-between align-items-center">
                    <div class="text-muted" id="paginationInfo">
                        Menampilkan 0 - 0 dari 0 data
                    </div>
                    <div id="paginationNav">
                        <!-- Pagination akan diisi oleh JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Keterangan Warna Status Raperda -->
        <div class="card mt-4">
            <div class="card-body">
                <div class="mt-4 p-3 bg-light rounded">
    <h6 class="mb-3"><i class="fas fa-info-circle me-2"></i>Status Proses Perkembangan Rancangan Peraturan Daerah :</h6>
    <div class="row">
        <div class="col-md-6">
            <div class="d-flex align-items-center mb-2">
                <span class="badge bg-secondary  ">Perencanaan</span>                <small class="text-muted ms-2">Tahap awal perencanaan Raperda</small>
            </div>
            <div class="d-flex align-items-center mb-2">
                <span class="badge bg-primary  ">Penyusunan</span>                <small class="text-muted ms-2">Sedang dalam proses penyusunan</small>
            </div>
            <div class="d-flex align-items-center mb-2">
                <span class="badge bg-warning text-dark ">Pembahasan</span>                <small class="text-muted ms-2">Sedang dalam tahap pembahasan</small>
            </div>
        </div>
        <div class="col-md-6">
            <div class="d-flex align-items-center mb-2">
                <span class="badge bg-info  ">Pengesahan</span>                <small class="text-muted ms-2">Sedang dalam proses pengesahan</small>
            </div>
            <div class="d-flex align-items-center mb-2">
                <span class="badge bg-success  ">Pengundangan</span>                <small class="text-muted ms-2">Telah diundangkan dan berlaku</small>
            </div>
        </div>
    </div>
</div>            </div>
        </div>

        <!-- Call to Action -->
        <div class="text-center mt-5">
            <p class="text-muted mb-3">Ingin melihat detail lengkap dan memberikan komentar?</p>
            <a href="https://eraperda-balangan.site/login" class="btn btn-primary btn-lg">
                <i class="fas fa-sign-in-alt me-2"></i>Masuk ke Sistem
            </a>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <h2 class="section-title">Fitur Unggulan</h2>
                <p class="section-subtitle">
                    Berbagai fitur canggih yang memudahkan proses legislasi dan meningkatkan partisipasi publik.
                </p>
            </div>
        </div>
        
        <div class="row">
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <h5 class="mb-3">Manajemen Dokumen</h5>
                    <p class="text-muted">
                        Upload, kelola, dan akses dokumen rancangan peraturan daerah dengan mudah dan terorganisir.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h5 class="mb-3">Sistem Komentar</h5>
                    <p class="text-muted">
                        Platform interaktif untuk memberikan masukan, saran, dan komentar terhadap rancangan peraturan.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-users"></i>
                    </div>
                    <h5 class="mb-3">Multi-User Access</h5>
                    <p class="text-muted">
                        Sistem role-based yang mendukung akses bertingkat untuk admin, anggota DPRD.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-search"></i>
                    </div>
                    <h5 class="mb-3">Pencarian Canggih</h5>
                    <p class="text-muted">
                        Fitur pencarian dan filter yang memudahkan menemukan dokumen dan informasi yang dibutuhkan.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-download"></i>
                    </div>
                    <h5 class="mb-3">Download & Preview</h5>
                    <p class="text-muted">
                        Akses mudah untuk melihat preview dan mengunduh dokumen dalam berbagai format.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-eye"></i>
                    </div>
                    <h5 class="mb-3">Visibilitas Publik & QR</h5>
                    <p class="text-muted">
                        Aktif/nonaktifkan akses publik ke Raperda dan bagikan QR Code untuk akses cepat.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <h5 class="mb-3">Log Perubahan Visibilitas</h5>
                    <p class="text-muted">
                        Histori lengkap setiap perubahan visibilitas: siapa, kapan, dan catatan.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h5 class="mb-3">Keamanan Berlapis</h5>
                    <p class="text-muted">
                        CAPTCHA pada login dan proteksi XSS untuk menjaga sistem tetap aman.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Benefits Section -->
<section class="py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <h2 class="section-title">Keunggulan & Manfaat</h2>
                <p class="section-subtitle">
                    Mengapa memilih ERaperda System untuk mendukung proses legislasi yang lebih baik?
                </p>
            </div>
        </div>
        
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4">
                <div class="pe-lg-4">
                    <div class="d-flex mb-4">
                        <div class="flex-shrink-0">
                            <div class="feature-icon" style="width: 50px; height: 50px; font-size: 1.2rem;">
                                <i class="fas fa-clock"></i>
                            </div>
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h5>Efisiensi Waktu</h5>
                            <p class="text-muted mb-0">Proses digitalisasi mempercepat alur kerja dan mengurangi birokrasi yang tidak perlu.</p>
                        </div>
                    </div>
                    
                    <div class="d-flex mb-4">
                        <div class="flex-shrink-0">
                            <div class="feature-icon" style="width: 50px; height: 50px; font-size: 1.2rem;">
                                <i class="fas fa-eye"></i>
                            </div>
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h5>Transparansi Penuh</h5>
                            <p class="text-muted mb-0">Masyarakat dapat mengakses dan memantau perkembangan rancangan peraturan secara real-time.</p>
                        </div>
                    </div>
                    
                    <div class="d-flex mb-4">
                        <div class="flex-shrink-0">
                            <div class="feature-icon" style="width: 50px; height: 50px; font-size: 1.2rem;">
                                <i class="fas fa-handshake"></i>
                            </div>
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h5>Partisipasi Aktif</h5>
                            <p class="text-muted mb-0">Platform yang memungkinkan masyarakat berpartisipasi aktif dalam proses legislasi.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="ps-lg-4">
                    <div class="d-flex mb-4">
                        <div class="flex-shrink-0">
                            <div class="feature-icon" style="width: 50px; height: 50px; font-size: 1.2rem;">
                                <i class="fas fa-leaf"></i>
                            </div>
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h5>Ramah Lingkungan</h5>
                            <p class="text-muted mb-0">Mengurangi penggunaan kertas dan mendukung program go-green pemerintahan.</p>
                        </div>
                    </div>
                    
                    <div class="d-flex mb-4">
                        <div class="flex-shrink-0">
                            <div class="feature-icon" style="width: 50px; height: 50px; font-size: 1.2rem;">
                                <i class="fas fa-chart-line"></i>
                            </div>
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h5>Peningkatan Kualitas</h5>
                            <p class="text-muted mb-0">Input dari user/pengguna meningkatkan kualitas peraturan yang dihasilkan.</p>
                        </div>
                    </div>
                    
                    <div class="d-flex mb-4">
                        <div class="flex-shrink-0">
                            <div class="feature-icon" style="width: 50px; height: 50px; font-size: 1.2rem;">
                                <i class="fas fa-archive"></i>
                            </div>
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h5>Arsip Digital</h5>
                            <p class="text-muted mb-0">Penyimpanan dokumen yang aman, terorganisir, dan mudah diakses kapan saja.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-5 bg-primary text-white">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h2 class="mb-4">Siap Berpartisipasi dalam Proses Legislasi?</h2>
                <p class="lead mb-4">
                    Bergabunglah dengan ERaperda System dan ikut serta dalam membangun peraturan daerah yang lebih baik untuk Kabupaten Balangan.
                </p>
                <div class="d-flex flex-wrap justify-content-center gap-3">
                    <a href="https://eraperda-balangan.site/login" class="btn btn-warning btn-lg px-4 py-3 fw-semibold">
                        <i class="fas fa-sign-in-alt me-2"></i>Masuk Sekarang
                    </a>
                    <a href="https://eraperda-balangan.site/panduan" class="btn btn-outline-light btn-lg px-4 py-3 fw-semibold">
                        <i class="fas fa-question-circle me-2"></i>Pelajari Lebih Lanjut
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
    </main>

    <!-- Footer -->
    <footer class="footer" id="kontak">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <div class="d-flex align-items-center mb-3">
                        <img src="https://eraperda-balangan.site/images/logo.png" alt="Logo DPRD" width="40" height="40" class="me-2">
                        <h5 class="mb-0">ERaperda System</h5>
                    </div>
                    <p class="text-light">Sistem Elektronik Rancangan Peraturan Daerah DPRD Kabupaten Balangan untuk transparansi dan partisipasi publik dalam proses legislasi.</p>
                </div>
                
                <div class="col-lg-4 mb-4">
                    <h5 class="mb-3">Kontak</h5>
                    <div class="text-light">
                        <p><i class="fas fa-map-marker-alt me-2"></i> DPRD Kabupaten Balangan<br>Jl. A. Yani, Kalimantan 71618, Indonesia</p>
                        
                        <!-- Mini Map -->
                        <div class="mb-3">
                            <a href="https://maps.app.goo.gl/Q4Jt2gibwMvaB2qQA" target="_blank" class="text-decoration-none">
                                <div class="map-container" style="position: relative; height: 120px; border-radius: 8px; overflow: hidden; border: 2px solid rgba(255,255,255,0.2); transition: all 0.3s ease;">
                                    <iframe 
                                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3981.234567890123!2d115.6234567!3d-2.5678901!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2sKantor%20DPRD%20Balangan!5e0!3m2!1sen!2sid!4v1234567890123!5m2!1sen!2sid"
                                        width="100%" 
                                        height="120" 
                                        style="border:0; filter: grayscale(20%);" 
                                        allowfullscreen="" 
                                        loading="lazy" 
                                        referrerpolicy="no-referrer-when-downgrade">
                                    </iframe>
                                    <div class="map-overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s ease;">
                                        <span class="text-white"><i class="fas fa-external-link-alt me-2"></i>Lihat di Google Maps</span>
                                    </div>
                                </div>
                            </a>
                        </div>
                        
                        <p><i class="fab fa-instagram me-2"></i> <a href="https://www.instagram.com/publikasidprdbalangan?igsh=NWxlbGx3dnB1dWps" class="text-light text-decoration-none" target="_blank">@publikasidprdbalangan</a></p>
                        <p><i class="fas fa-envelope me-2"></i> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1c6f79686b7d725c7e7d707d727b7d72777d7e327b73327578">[email&#160;protected]</a></p>
                    </div>
                </div>
                
                <div class="col-lg-4 mb-4">
                    <h5 class="mb-3">Tautan Berguna</h5>
                    <ul class="list-unstyled text-light mb-4">
                        <li><a href="https://eraperda-balangan.site/panduan" class="text-light text-decoration-none"><i class="fas fa-book me-2"></i> Panduan Penggunaan</a></li>
                        <li><a href="https://eraperda-balangan.site/login" class="text-light text-decoration-none"><i class="fas fa-sign-in-alt me-2"></i> Portal Login</a></li>
                        <li><a href="https://balangankab.go.id" class="text-light text-decoration-none" target="_blank"><i class="fas fa-external-link-alt me-2"></i> Website Kabupaten Balangan</a></li>
                    </ul>
                </div>
                
                <div class="col-lg-4 mb-4">
                    <h5 class="mb-3">Statistik Pengunjung</h5>
                    <div class="visitor-stats">
                        <div class="stat-item mb-2">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="text-light"><i class="fas fa-users me-2"></i>Total</span>
                                <span class="badge bg-primary" id="total-visitors">-</span>
                            </div>
                        </div>
                        <div class="stat-item mb-2">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="text-light"><i class="fas fa-calendar-alt me-2"></i>Tahun Ini</span>
                                <span class="badge bg-success" id="yearly-visitors">-</span>
                            </div>
                        </div>
                        <div class="stat-item mb-2">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="text-light"><i class="fas fa-calendar me-2"></i>Bulan Ini</span>
                                <span class="badge bg-warning" id="monthly-visitors">-</span>
                            </div>
                        </div>
                        <div class="stat-item mb-2">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="text-light"><i class="fas fa-calendar-day me-2"></i>Hari Ini</span>
                                <span class="badge bg-info" id="daily-visitors">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <hr class="my-4" style="border-color: #374151;">
            
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0 text-light">&copy; 2026 DPRD Kabupaten Balangan. Semua hak dilindungi.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <small class="text-light">Dikembangkan dengan ❤️ untuk transparansi pemerintahan</small>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JS -->
    <script>
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Navbar background on scroll
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('shadow');
            } else {
                navbar.classList.remove('shadow');
            }
        });

        // Auto-hide alerts after 5 seconds
        document.addEventListener('DOMContentLoaded', function() {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(function(alert) {
                setTimeout(function() {
                    const bsAlert = new bootstrap.Alert(alert);
                    bsAlert.close();
                }, 5000); // 5 seconds
            });
        });
        
        // Visitor Counter
        function loadVisitorStatistics() {
            // Add loading animation
            const badges = document.querySelectorAll('.visitor-stats .badge');
            badges.forEach(badge => {
                badge.classList.add('loading-counter');
                badge.textContent = '...';
            });
            
            fetch('https://eraperda-balangan.site/api/visitor-statistics')
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        // Remove loading animation
                        badges.forEach(badge => badge.classList.remove('loading-counter'));
                        
                        // Update counters with animation
                        updateCounter('total-visitors', data.data.total);
                        updateCounter('yearly-visitors', data.data.yearly);
                        updateCounter('monthly-visitors', data.data.monthly);
                        updateCounter('daily-visitors', data.data.daily);
                    }
                })
                .catch(error => {
                    console.error('Error loading visitor statistics:', error);
                    badges.forEach(badge => {
                        badge.classList.remove('loading-counter');
                        badge.textContent = '0';
                    });
                });
        }
        
        function updateCounter(elementId, value) {
            const element = document.getElementById(elementId);
            if (element) {
                // Format number with thousand separators
                const formattedValue = new Intl.NumberFormat('id-ID').format(value);
                element.textContent = formattedValue;
                
                // Add update animation
                element.style.transform = 'scale(1.2)';
                setTimeout(() => {
                    element.style.transform = 'scale(1)';
                }, 200);
            }
        }
        
        // Load visitor statistics when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadVisitorStatistics();
            
            // Refresh statistics every 30 seconds
            setInterval(loadVisitorStatistics, 30000);
        });
    </script>
    
    <script>
document.addEventListener('DOMContentLoaded', function() {
    let currentPage = 1;
    let currentSort = 'created_at';
    let currentOrder = 'desc';
    let searchTimeout;

    // Load initial data
    loadRaperdaData();

    // Search input dengan debounce
    document.getElementById('search').addEventListener('input', function() {
        console.log('Search input changed');
        clearTimeout(searchTimeout);
        searchTimeout = setTimeout(() => {
            console.log('Search debounce triggered');
            currentPage = 1;
            loadRaperdaData();
        }, 500);
    });

    // Status filter
    document.getElementById('status_raperda').addEventListener('change', function() {
        console.log('Status filter changed');
        currentPage = 1;
        loadRaperdaData();
    });

    // Refresh button
    document.getElementById('refreshBtn').addEventListener('click', function() {
        loadRaperdaData();
    });

    // Reset button
    document.getElementById('resetBtn').addEventListener('click', function() {
        document.getElementById('search').value = '';
        document.getElementById('status_raperda').value = '';
        currentPage = 1;
        currentSort = 'created_at';
        currentOrder = 'desc';
        loadRaperdaData();
    });

    // Sort links
    document.addEventListener('click', function(e) {
        if (e.target.closest('.sort-link')) {
            e.preventDefault();
            const sortField = e.target.closest('.sort-link').dataset.sort;
            
            if (currentSort === sortField) {
                currentOrder = currentOrder === 'asc' ? 'desc' : 'asc';
            } else {
                currentSort = sortField;
                currentOrder = 'asc';
            }
            
            currentPage = 1;
            loadRaperdaData();
        }
    });

    // Pagination links
    document.addEventListener('click', function(e) {
        if (e.target.closest('.page-link')) {
            e.preventDefault();
            const page = e.target.closest('.page-link').dataset.page;
            if (page) {
                currentPage = parseInt(page);
                loadRaperdaData();
            }
        }
    });

    function loadRaperdaData() {
        console.log('loadRaperdaData called at:', new Date().toLocaleTimeString());
        showLoading();
        
        const params = new URLSearchParams({
            page: currentPage,
            sort_by: currentSort,
            sort_order: currentOrder,
            search: document.getElementById('search').value,
            status_raperda: document.getElementById('status_raperda').value
        });

        console.log('Loading data with params:', params.toString());

        fetch(`https://eraperda-balangan.site/api/raperda-data?${params}`)
            .then(response => {
                console.log('Response status:', response.status);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                console.log('Response data:', data);
                hideLoading();
                if (data.success) {
                    renderTable(data.data);
                    renderPagination(data.pagination);
                    updateSortIcons();
                } else {
                    showError('Gagal memuat data');
                }
            })
            .catch(error => {
                console.error('Fetch error:', error);
                hideLoading();
                showError('Terjadi kesalahan saat memuat data: ' + error.message);
            });
    }

    function showLoading() {
        console.log('showLoading called');
        document.getElementById('loadingIndicator').style.display = 'block';
        document.getElementById('raperdaTable').style.opacity = '0.5';
    }

    function hideLoading() {
        console.log('hideLoading called');
        document.getElementById('loadingIndicator').style.display = 'none';
        document.getElementById('raperdaTable').style.opacity = '1';
    }

    function renderTable(data) {
        console.log('renderTable called with data:', data);
        const tbody = document.getElementById('raperdaTableBody');
        
        if (data.length === 0) {
            console.log('No data found, showing empty state');
            tbody.innerHTML = `
                <tr id="emptyRow">
                    <td colspan="3" class="text-center py-5">
                        <div class="text-muted">
                            <i class="fas fa-inbox fa-3x mb-3"></i>
                            <p class="mb-0">Tidak ada data Raperda yang tersedia</p>
                            <small>Silakan coba dengan filter yang berbeda</small>
                        </div>
                    </td>
                </tr>
            `;
            return;
        }
        
        console.log('Rendering', data.length, 'rows');
        
        tbody.innerHTML = data.map((item, index) => {
            const rowNumber = ((currentPage - 1) * 10) + index + 1;
            const statusBadge = getStatusBadge(item.status_raperda);
            const truncatedTitle = truncateText(item.judul, 80);
            
            return `
                <tr>
                    <td>${rowNumber}</td>
                    <td>
                        <div class="fw-semibold">${truncatedTitle}</div>
                        ${item.deskripsi ? `<small class="text-muted">${truncateText(item.deskripsi, 100)}</small>` : ''}
                    </td>
                    <td>${statusBadge}</td>
                </tr>
            `;
        }).join('');
    }

    function renderPagination(pagination) {
        console.log('renderPagination called with:', pagination);
        const info = document.getElementById('paginationInfo');
        const nav = document.getElementById('paginationNav');
        
        // Info
        info.innerHTML = `Menampilkan ${pagination.from || 0} - ${pagination.to || 0} dari ${pagination.total} data`;
        
        // Pagination
        if (pagination.last_page <= 1) {
            nav.innerHTML = '';
            return;
        }
        
        let paginationHtml = '<ul class="pagination pagination-sm mb-0">';
        
        // Previous
        if (pagination.current_page > 1) {
            paginationHtml += `<li class="page-item"><a class="page-link" href="#" data-page="${pagination.current_page - 1}">‹</a></li>`;
        }
        
        // Pages
        const startPage = Math.max(1, pagination.current_page - 2);
        const endPage = Math.min(pagination.last_page, pagination.current_page + 2);
        
        for (let i = startPage; i <= endPage; i++) {
            const active = i === pagination.current_page ? 'active' : '';
            paginationHtml += `<li class="page-item ${active}"><a class="page-link" href="#" data-page="${i}">${i}</a></li>`;
        }
        
        // Next
        if (pagination.current_page < pagination.last_page) {
            paginationHtml += `<li class="page-item"><a class="page-link" href="#" data-page="${pagination.current_page + 1}">›</a></li>`;
        }
        
        paginationHtml += '</ul>';
        nav.innerHTML = paginationHtml;
    }

    function updateSortIcons() {
        document.querySelectorAll('.sort-link i').forEach(icon => {
            icon.className = 'fas fa-sort ms-1';
        });
        
        const currentSortLink = document.querySelector(`[data-sort="${currentSort}"] i`);
        if (currentSortLink) {
            currentSortLink.className = `fas fa-sort-${currentOrder === 'asc' ? 'up' : 'down'} ms-1`;
        }
    }

    function getStatusBadge(status) {
        const badges = {
            'Perencanaan': '<span class="badge bg-secondary">Perencanaan</span>',
            'Penyusunan': '<span class="badge bg-primary">Penyusunan</span>',
            'Pembahasan': '<span class="badge bg-warning text-dark">Pembahasan</span>',
            'Pengesahan': '<span class="badge bg-info">Pengesahan</span>',
            'Pengundangan': '<span class="badge bg-success">Pengundangan</span>'
        };
        return badges[status] || `<span class="badge bg-light text-dark">${status}</span>`;
    }

    function truncateText(text, maxLength) {
        if (!text) return '';
        return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;
    }

    function showError(message) {
        // Simple error display - you can enhance this
        console.error(message);
        alert(message);
    }

    // Auto refresh setiap 30 detik (disabled for debugging)
    // setInterval(loadRaperdaData, 30000);
});
</script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"3e39d3695f0241a6b4fafeae3aa92bca","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body>
</html>